<!--<script src="lib/zrender.min.js"></script>-->
<!--<script src="asset/js/esl/esl.js"></script>-->
<script src="lib/echarts.all.js"></script>
<script>
    //    require.config({
    //        paths: {
    //            echarts: 'lib/echart/'
    //        }
    //    });
</script>
<div data-id="2A851661" class="2A851661">
    <style>
        .chart {
            height: 350px;
            margin: 0px;
            padding: 0px;
        }

        h5 {
            margin-top: 10px;
            font-weight: bold;
        }

        h5:first-child {
            margin-top: 10px;
        }
    </style>
    <div class="mui-content-padded ">
        <h5></h5>

        <div class="chart" id="chart_safe"
             _echarts_instance_="1568982951108"
             style="margin-top: -30px;-webkit-tap-highlight-color: transparent; user-select: none; background-color: rgba(0, 0, 0, 0);">
            <div style="position: relative; overflow: hidden; width: 300px; height: 200px;">
                <div data-zr-dom-id="bg" class="zr-element"
                     style="position: absolute; left: 0px; top: 0px; width: 300px; height: 200px; user-select: none;"></div>
                <canvas width="300" height="200" data-zr-dom-id="0" class="zr-element"
                        style="position: absolute; left: 0px; top: 0px; width: 300px; height: 200px; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></canvas>
                <canvas width="300" height="200" data-zr-dom-id="1" class="zr-element"
                        style="position: absolute; left: 0px; top: 0px; width: 300px; height: 200px; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></canvas>
                <canvas width="300" height="200" data-zr-dom-id="_zrender_hover_" class="zr-element"
                        style="position: absolute; left: 0px; top: 0px; width: 300px; height: 200px; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></canvas>
            </div>
        </div>
    </div>
    <script>
        function createRandomItemStyle() {
            return {
                normal: {
                    color: 'rgb(' + [
                        Math.round(Math.random() * 160),
                        Math.round(Math.random() * 160),
                        Math.round(Math.random() * 160)
                    ].join(',') + ')'
                }
            };
        }
        var getOption = function () {
            var option = {
                tooltip: {
                    formatter: "{a} <br/>{c} {b}"
                },
                series: [
                    {
                        name: '安全度',
                        type: 'gauge',
                        z: 4,
                        min: 0,
                        max: 100,
                        splitNumber: 5,
                        radius: '50%',
                        axisLine: {            // 坐标轴线
                            lineStyle: {       // 属性lineStyle控制线条样式
                                width: 10
                            }
                        },
                        axisTick: {            // 坐标轴小标记
                            length: 15,        // 属性length控制线长
                            lineStyle: {       // 属性lineStyle控制线条样式
                                color: 'auto'
                            }
                        },
                        splitLine: {           // 分隔线
                            length: 20,         // 属性length控制线长
                            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                                color: 'auto'
                            }
                        },
                        title: {
                            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                                fontWeight: 'bolder',
                                fontSize: 20,
                                fontStyle: 'italic'
                            }
                        },
                        detail: {
                            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                                fontWeight: 'bolder'
                            }
                        },
                        data: [{value: 40, name: 'per'}]
                    },
                ]
            };

            timeTicket = setInterval(function () {
                option.series[0].data[0].value = (Math.random() * 100).toFixed(2) - 0;
                chart_safe.setOption(option, true);
            }, 2000);

            return option;
        };
        var byId = function (id) {
            return document.getElementById(id);
        };
        var chart_safe = echarts.init(byId('chart_safe'));
        chart_safe.setOption(getOption());
        byId("chart_safe").addEventListener('tap', function () {
            var url = this.getAttribute('data-url');
            if (window.plus) {
                plus.runtime.openURL(url);
            } else {
                window.open(url);
            }
        }, false);
    </script>
</div>